<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			// Promise 是 ES6 引入的异步编程的新解决方案，从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。
			// Promise 异步操作有三种状态：pending（进行中）、fulfilled（已成功）和 rejected（已失败）。除了异步操作的结果，任何其他操作都无法改变这个状态。
			// Promise 对象只有：从 pending 变为 fulfilled 和从 pending 变为 rejected 的状态改变。只要处于 fulfilled 和 rejected ，状态就不会再变了即 resolved（已定型）。
			
			// 实例化 Promise 对象
			const p = new Promise(function(resolve, reject) {
				setTimeout(() => {
					// let data = '数据库中的用户数据';
					// 读取数据成功
					// resolve(data);
					
					let err = '数据读取失败';
					// 读取数据失败
					reject(err);
				}, 1000);
			}); 
			// 调用 promise 对象的 then 方法
			// then 方法接收两个函数作为参数，第一个参数是 Promise 执行成功时的回调，第二个参数是 Promise 执行失败时的回调，两个函数只会有一个被调用。
			p.then(function(value){
				console.log(value);
			}, function(reason) {
				console.log(reason);
			});
		</script>
	</body>
</html>
